{"version":3,"file":"js/186.f3cef9e7.js","mappings":"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","sources":["webpack://p_1/./src/components/students/WorkManage.vue","webpack://p_1/./src/components/common/Pagination.vue","webpack://p_1/src/components/common/Pagination.vue","webpack://p_1/./src/components/common/Pagination.vue?e5a7","webpack://p_1/./src/components/common/Pagination.vue?9b29","webpack://p_1/src/components/students/WorkManage.vue","webpack://p_1/./src/components/students/WorkManage.vue?526d","webpack://p_1/./src/components/students/WorkManage.vue?8377","webpack://p_1/./src/utils/table.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"work-manage\"},[_c('h1',[_vm._v(\"work管理\")]),_c('Pagination',{attrs:{\"total\":_vm.total,\"url\":_vm.url}}),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"用户ID\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"所属班级\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"作业名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"completed_text\",\"label\":\"完成情况\",\"align\":\"center\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pageSizes,\"page-size\":10,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"url\":_vm.url},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\"\r\n            :page-sizes=\"pageSizes\" :page-size=\"10\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"\r\n            :url=\"url\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableData, } from '@/utils/table'\r\nexport default {\r\n    props: {\r\n        'total': Number,\r\n        'url': String,\r\n    },\r\n    created() {\r\n        /* getTableData('/works', this, {}, ['completed']) */\r\n        getTableData('/works', this.$parent, { page: 1, size: 10 }, ['completed'])\r\n    },\r\n    data() {\r\n        return {\r\n            currentPage: 1,\r\n            pageSizes: [10, 20, 30, 40],\r\n            pageSize: 10,\r\n        }\r\n    },\r\n    computed: {\r\n        getPageData() {\r\n            let getPageData;\r\n            getPageData = this.tableData.slice((this.currentPage - 1) * this.pageSize, this.currentPage * this.pageSize)\r\n            return getPageData\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        handleSizeChange(val) {\r\n            /* console.log(`每页 ${val} 条`);\r\n            this.pageSize = val\r\n            this.currentPage = 1\r\n            console.log(`当前页: ${this.currentPage}`); */\r\n\r\n            //后端分页\r\n\r\n            const loading = this.$loading({\r\n                lock: true,\r\n                text: 'Loading',\r\n                spinner: 'el-icon-loading',\r\n                background: 'rgba(0, 0, 0, 0.7)'\r\n            });\r\n\r\n\r\n            this.pageSize = val\r\n            this.currentPage = 1\r\n            getTableData('/works', this.$parent, { page: this.currentPage, size: val }, ['completed'])\r\n            console.log(`每页 ${val} 条`);\r\n            console.log(`当前页: ${this.currentPage}`);\r\n\r\n            loading.close();\r\n        },\r\n        handleCurrentChange(val) {\r\n            /* console.log(`当前页: ${val}`);\r\n            this.currentPage = val */\r\n\r\n            //后端分页\r\n            const loading = this.$loading({\r\n                lock: true,\r\n                text: 'Loading',\r\n                spinner: 'el-icon-loading',\r\n                background: 'rgba(0, 0, 0, 0.7)'\r\n            });\r\n            getTableData('/works', this.$parent, { page: val, size: this.pageSize }, ['completed'])\r\n            console.log(`当前页: ${val}`);\r\n            this.currentPage = val\r\n            loading.close();\r\n\r\n\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=a745937e&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"work-manage\">\r\n        <h1>work管理</h1>\r\n        <!--  /* 1:1-10,2:11-20 slice((当前页数-1)*每页条数,当前页数*当前条数) */ -->\r\n        <Pagination :total=\"total\" :url=\"url\"/>\r\n\r\n        <!-- 表格 -->\r\n        <el-table :data=\"tableData\" v-loading=\"loading\" border style=\"width: 100%\">\r\n            <el-table-column prop=\"id\" label=\"用户ID\" align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"userId\" label=\"所属班级\" align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"title\" label=\"作业名称\" align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"completed_text\" label=\"完成情况\" align=\"center\">\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableData } from '@/utils/table'\r\nimport Pagination from '@/components/common/Pagination.vue'\r\nexport default {\r\n    created(){\r\n        \r\n    },\r\n    components: {\r\n        Pagination\r\n    },\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            total: null,\r\n            loading: true,\r\n            url: '/works'\r\n        }\r\n    },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.work-manage {\r\n    .el-pagination {\r\n        margin: 20px auto;\r\n        text-align: left;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkManage.vue?vue&type=template&id=4f64ba8a&\"\nimport script from \"./WorkManage.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkManage.vue?vue&type=style&index=0&id=4f64ba8a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\n\r\n// 获取表格数据\r\nexport function getData(url, currentrRoute, params) {\r\n    currentrRoute.service.get(url, { params: params || {} }).then((res) => {\r\n        if (res.data.status === 200) {\r\n            currentrRoute.tableData = [...res.data.data]\r\n            //console.log(currentrRoute.tableData);\r\n            currentrRoute.total = res.data.total\r\n            currentrRoute.tableData.forEach(item => {\r\n                item.sex === '1' ? item.sex_text = '男' : item.sex_text = '女'\r\n            })\r\n        }\r\n    }).catch(err => {\r\n        throw err\r\n    })\r\n}\r\n\r\n//新增、修改方法封装\r\nimport qs from 'qs'\r\nexport function changeInfo(method, url, currentrRoute, form, callback) {\r\n    let data = qs.stringify(form)\r\n    currentrRoute.service[method](url, data)\r\n        .then(res => {\r\n            if (res.data.status === 200) {\r\n                callback(url, currentrRoute)\r\n                currentrRoute.dialogFormVisible = false\r\n                currentrRoute.$refs['form'].resetFields()\r\n                currentrRoute.$message({ type: 'success', message: res.data.message })\r\n            }\r\n        }).catch(err => {\r\n            throw err\r\n        })\r\n}\r\n\r\n//删除方法的封装\r\nexport function delInfo(url, currentrRoute, row, callback) {\r\n\r\n    currentrRoute.$confirm(`确定要删除ID为 ${row.id} 的 ${row.name} 的信息吗`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        showCancelButton: true,\r\n        type: 'warning',\r\n    }).then(() => {\r\n        console.log(row.id);\r\n        console.log(url + '/' + row.id);\r\n        currentrRoute.service.delete(url + '/' + row.id)\r\n            .then(res => {\r\n                if (res.data.status === 200) {\r\n                    currentrRoute.$message({ message: res.data.message, type: 'success' })\r\n                    callback(url, currentrRoute)\r\n                }\r\n            })\r\n    }).catch((err) => {\r\n        currentrRoute.$message({ message: '取消删除', type: 'info' })\r\n        throw err\r\n    })\r\n}\r\n\r\n//作业列表获取表格数据\r\nexport function getTableData(url, currentrRoute, params,arr) {\r\n    currentrRoute.service.get(url, { params: params || {} }).then(res => {\r\n        if (res.data.status === 200) {\r\n            //console.log(res.data.data);\r\n            currentrRoute.tableData = [...res.data.data]\r\n            currentrRoute.total = res.data.total\r\n            //处理收到的数据\r\n            currentrRoute.tableData.map((item)=>{\r\n                arr.map(arrItem=>{\r\n                    item[arrItem]?item[arrItem+'_text']='已完成':item[arrItem+'_text']='未完成'\r\n                })\r\n            })\r\n            /* \r\n            currentrRoute.tableData.forEach((item)=>{\r\n                arr.forEach(arrItem=>{\r\n                    item[arrItem]?item[arrItem+'_text']='已完成':item[arrItem+'_text']='未完成'\r\n                })\r\n            })  \r\n            */\r\n            /* \r\n            currentrRoute.tableData.forEach(item=>{\r\n                if (item.completed) {\r\n                    item.completed_text='已完成'\r\n                }else{\r\n                    item.completed_text='未完成'\r\n                }\r\n            }) \r\n            */\r\n\r\n           currentrRoute.loading=false\r\n        }\r\n    }).catch(err => {\r\n        throw err\r\n    })\r\n}\r\n\r\n\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","total","url","directives","name","rawName","value","loading","expression","staticStyle","tableData","staticRenderFns","currentPage","pageSizes","on","handleSizeChange","handleCurrentChange","props","created","getTableData","page","size","data","pageSize","computed","getPageData","methods","lock","text","spinner","background","console","component","components","Pagination","getData","currentrRoute","params","service","get","then","res","status","forEach","item","sex","sex_text","catch","err","changeInfo","method","form","callback","qs","dialogFormVisible","$refs","resetFields","$message","type","message","delInfo","row","$confirm","id","confirmButtonText","cancelButtonText","showCancelButton","log","delete","arr","map","arrItem"],"sourceRoot":""}