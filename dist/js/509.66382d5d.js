"use strict";(self["webpackChunkp_1"]=self["webpackChunkp_1"]||[]).push([[509],{55509:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("用户登录")])]),e("div",{staticStyle:{margin:"20px"}}),e("el-form",{ref:"form",attrs:{"label-width":"80px",model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"用户名",prop:"username"}},[e("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"password"}},[e("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("el-form-item",{attrs:{label:""}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginBtn("form")}}},[t._v("登录")])],1)],1)],1)],1)},o=[];r(21703);function s(t,e,r){let n=/(^[a-zA-Z0-9]{4,10}$)/;""===e?r(new Error("先输入昵称")):n.test(e)?r():r(new Error("请输入4-10位用户名"))}function a(t,e,r){let n=/^\S*(?=\S{6,12})(?=\S*\d)(?=\S*[A-Z])(?=\S*[a-z])(?=\S*[!@#$%^&*? ])\S*$/;""===e?r(new Error("先输入密码")):n.test(e)?r():r(new Error("请输入6-12位密码，并且包含大、小写字母、数字、特殊字符"))}var u=r(79720),l=r(7877),i={data(){return{form:{username:"",password:""},rules:{username:[{validator:s,trigger:"blur"}],password:[{validator:a,trigger:"blur"}]}}},methods:{loginBtn(t){this.$refs[t].validate((t=>{console.log("开始验证enter form validate",this.form),t?(console.log("正在请求"),(0,l.x4)(this.form).then((t=>{console.log("请求成功，收到res","状态："+t.status,t),200===t.data.status&&(console.log("登陆成功"),(0,u.o4)("username",t.data.username),(0,u.o4)("token",t.data.token),this.$message({message:t.data.message,type:"success"}),this.$router.push("/home"))})).catch((t=>{console.error(t)}))):console.log("验证不通过",this.form)}))}}},f=i,c=r(1001),d=(0,c.Z)(f,n,o,!1,null,null,null),m=d.exports},7877:function(t,e,r){r.d(e,{Ab:function(){return f},eM:function(){return d},iq:function(){return c},k6:function(){return m},m:function(){return i},nJ:function(){return l},qH:function(){return u},x4:function(){return a}});var n=r(92617),o=r(95410),s=r.n(o);function a(t){return console.log("login接口正在请求"),(0,n.Z)({method:"post",url:"/login",data:t})}function u(t){return(0,n.Z)({method:"get",url:"/students",params:t})}function l(t){return(0,n.Z)({method:"delete",url:`/students/${t}`})}function i(t){return(0,n.Z)({method:"get",url:"/info",params:t})}function f(t){return console.log("apidata",t),t=s().stringify(t),console.log("qs_apidata",t),(0,n.Z)({method:"post",url:"/info",data:t})}function c(t){return t=s().stringify(t),(0,n.Z)({method:"put",url:"/info",data:t})}function d(t){return(0,n.Z)({method:"delete",url:`/info/${t}`})}function m(){return(0,n.Z)({method:"get",url:"/dataview"})}}}]);
//# sourceMappingURL=509.66382d5d.js.map