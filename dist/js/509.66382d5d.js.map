{"version":3,"file":"js/509.66382d5d.js","mappings":"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","sources":["webpack://p_1/./src/components/Login.vue","webpack://p_1/./src/utils/validate.js","webpack://p_1/src/components/Login.vue","webpack://p_1/./src/components/Login.vue?0800","webpack://p_1/./src/components/Login.vue?f3db","webpack://p_1/./src/api/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"用户登录\")])]),_c('div',{staticStyle:{\"margin\":\"20px\"}}),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.loginBtn('form')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//用户名匹配\r\nexport function nameRule(rule, value, callback) {\r\n    let unReg = /(^[a-zA-Z0-9]{4,10}$)/\r\n    if (value === '') {\r\n        callback(new Error('先输入昵称'))\r\n    } else if (!unReg.test(value)) {\r\n        callback(new Error('请输入4-10位用户名'))\r\n    } else {\r\n        callback()\r\n    }\r\n}\r\n//密码名匹配\r\nexport function passRule(rule, value, callback) {\r\n    let unReg = /^\\S*(?=\\S{6,12})(?=\\S*\\d)(?=\\S*[A-Z])(?=\\S*[a-z])(?=\\S*[!@#$%^&*? ])\\S*$/\r\n    if (value === '') {\r\n        callback(new Error('先输入密码'))\r\n    } else if (!unReg.test(value)) {\r\n        callback(new Error('请输入6-12位密码，并且包含大、小写字母、数字、特殊字符'))\r\n    } else {\r\n        callback()\r\n    }\r\n}","<template>\r\n    <div class=\"login\">\r\n\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>用户登录</span>\r\n            </div>\r\n            <div style=\"margin: 20px;\"></div>\r\n            <el-form label-width=\"80px\" :model=\"form\" ref=\"form\" :rules=\"rules\">\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"form.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"form.password\" type=\"password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"\">\r\n                    <el-button type=\"primary\" @click=\"loginBtn('form')\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { nameRule, passRule } from '@/utils/validate'\r\nimport { setToken, getToken, removeToken } from '@/utils/tokenDispose'\r\nimport { login } from '@/api'\r\nexport default {\r\n\r\n    data() {\r\n        const validateName = (rule, value, callback) => {\r\n            //输入4-10位名称\r\n            let unReg = /(^[a-zA-Z0-9]{4,10}$)/\r\n            if (value === '') {\r\n                callback(new Error('先输入昵称'))\r\n            } else if (!unReg.test(value)) {\r\n                callback(new Error('请输入4-10位用户名'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        const validatePass = (rule, value, callback) => {\r\n            //输入4-10位名称\r\n            let unReg = /^\\S*(?=\\S{6,12})(?=\\S*\\d)(?=\\S*[A-Z])(?=\\S*[a-z])(?=\\S*[!@#$%^&*? ])\\S*$/\r\n            if (value === '') {\r\n                callback(new Error('先输入密码'))\r\n            } else if (!unReg.test(value)) {\r\n                callback(new Error('请输入6-12位密码，并且包含大、小写字母、数字、特殊字符'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        return {\r\n            form: {\r\n                username: '',\r\n                password: '',\r\n            },\r\n            rules: {\r\n                username: [{ validator: nameRule, trigger: 'blur' }],\r\n                password: [{ validator: passRule, trigger: 'blur' }],\r\n            }\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        loginBtn(form) {\r\n\r\n            this.$refs[form].validate((valid => {\r\n                console.log('开始验证enter form validate', this.form);\r\n                if (valid) {\r\n                    console.log('正在请求');\r\n                    login(this.form).then(res => {\r\n                        console.log('请求成功，收到res', '状态：' + res.status, res);\r\n                        if (res.data.status === 200) {\r\n                            console.log('登陆成功');\r\n                            setToken('username', res.data.username)\r\n                            setToken('token', res.data.token)\r\n                            this.$message({ message: res.data.message, type: 'success' })\r\n                            this.$router.push('/home')\r\n                        }\r\n                    }).catch(err => {\r\n                        console.error(err);\r\n                    })\r\n                    /* 将登录进行封装\r\n                    this.service.post('/login', this.form)\r\n                        .then(res => {\r\n                            console.log('请求成功，收到res', '状态：'+res.status,res);\r\n                            if (res.status === 200) {\r\n                                console.log('登陆成功');\r\n                                setToken('username',res.data.username)\r\n                                setToken('token',res.data.token)\r\n                                this.$message({ message: res.data.message, type: 'success' })\r\n                                this.$router.push('/home')\r\n                            }\r\n                        })\r\n                        .catch(err => {\r\n                            console.error('错误捕捉catch error', err);\r\n                        })\r\n                        */\r\n                } else {\r\n                    console.log('验证不通过', this.form);\r\n                }\r\n            }))\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.login {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background: url('../assets/login.jpg') center no-repeat;\r\n    background-size: auto 100%;\r\n\r\n    .el-card {\r\n        //background: #b3b3ba;\r\n        background: #657685bb;\r\n        // border: solid 0px;\r\n        box-shadow: 5px 3px 50px 30px\r\n    }\r\n\r\n    .box-card {\r\n        width: 450px;\r\n        margin: 200px auto;\r\n\r\n        .el-form .el-form-item__label {\r\n            color: white;\r\n            width: 100px;\r\n\r\n        }\r\n\r\n        .el-card__header {\r\n            color: white;\r\n            font-size: 35px;\r\n        }\r\n\r\n        .el-button {\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=8e6b8cf6&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=8e6b8cf6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport service from '@/service'\r\nimport qs from 'qs'\r\n//登录\r\nexport function login(data) {\r\n    console.log('login接口正在请求');\r\n    return service({\r\n        method: 'post',\r\n        url: '/login',\r\n        data\r\n    })\r\n}\r\n\r\n//学生列表查询\r\nexport function students(params) {\r\n    return service({\r\n\r\n        method: 'get',\r\n        url: '/students',\r\n        params\r\n    })\r\n}\r\n\r\n\r\n//学生信息删除\r\nexport function studentDel(id) {\r\n    return service({\r\n        method: 'delete',\r\n        url: `/students/${id}`,\r\n    })\r\n}\r\n\r\n\r\n//信息列表查询\r\nexport function infos(params) {\r\n    return service({\r\n        method: 'get',\r\n        url: '/info',\r\n        params\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//信息列表新增\r\nexport function infoAdd(data) {\r\n    console.log('apidata',data);\r\n    data = qs.stringify(data)\r\n    console.log('qs_apidata',data);\r\n    return service({\r\n        method: 'post',\r\n        url: '/info',\r\n        data\r\n    })\r\n}\r\n\r\n\r\n//信息列表修改\r\nexport function infoUpdate(data) {\r\n    data = qs.stringify(data)\r\n    return service({\r\n        method: 'put',\r\n        url: '/info',\r\n        data\r\n    })\r\n}\r\n\r\n//信息列表删除\r\nexport function infoDel(id) {\r\n    return service({\r\n        method: 'delete',\r\n        url: `/info/${id}`,\r\n    })\r\n}\r\n//数据概览中的数据\r\nexport function getDataview() {\r\n    return service({\r\n        method:'get',\r\n        url:'/dataview'\r\n    })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","staticStyle","ref","form","rules","model","value","username","callback","$$v","$set","expression","password","on","$event","loginBtn","staticRenderFns","nameRule","rule","unReg","Error","test","passRule","data","validator","trigger","methods","console","login","setToken","message","type","catch","err","component","log","service","method","url","students","params","studentDel","id","infos","infoAdd","qs","infoUpdate","infoDel","getDataview"],"sourceRoot":""}